---
import data from '../data/Bakers.json';
import Baker from './Baker.astro';
---

<ul class='bakers' role='list'>
	{
		data.map(baker => (
			<li class={`bakers-item ${baker.bakerClass}`}>
				<div class='image-wrap'>
					<img
						src={`/assets/${baker.bakerImage}.webp`}
						class='bakers-item__image'
						alt=''
						loading='lazy'
						width='385'
						height='385'
					/>
					<svg
						viewBox='0 0 200 200'
						fill='none'
						xmlns='http://www.w3.org/2000/svg'
						aria-hidden='true'>
						<path
							d='M141.5 58.3C157.5 74.5 176.8 87.3 177.7 100.9C178.6 114.5 161.1 129 145.1 140.3C129 151.6 114.5 159.6 98.8998 160.7C83.2998 161.8 66.5998 156 53.6998 144.7C40.8998 133.4 31.9998 116.7 30.1998 98.2C28.3998 79.6 33.6998 59.3 46.4998 43.1C59.2998 26.9 79.5998 14.8 96.1998 18.6C112.7 22.5 125.5 42.1 141.5 58.3Z'
							fill='var(--color-yellow)'
							fill-opacity='0.75'
						/>
					</svg>
				</div>

				<div class='bakers-item__content'>
					<h4>
						{baker.bakerName}, {baker.bakerAge}
					</h4>
					<h5>{baker.bakerJob}</h5>

					<p>{baker.bakerInfo}</p>

					<dl class='bakers-item__stats'>
						<div>
							<dt>Star Baker</dt>
							<dd>
								<span>
									<svg
										xmlns='http://www.w3.org/2000/svg'
										width='15'
										height='15'
										viewBox='0 0 15 15'
										aria-hidden='true'>
										<path d='M7.5 11.25l-4.408 2.318.842-4.91L.367 5.183l4.929-.716L7.5 0l2.204 4.466 4.929.716-3.567 3.477.842 4.909z' />
									</svg>
								</span>
								{baker.starBaker}
							</dd>
						</div>

						<div>
							<dt>Innuendos</dt>
							<dd>
								<span>
									<span aria-hidden='true'>üçÜ</span>
								</span>
								{baker.bakerInnuendo}
							</dd>
						</div>

						<div>
							<dt>Hollywood Handshake</dt>
							<dd>
								<span>
									<img src='/assets/phollywood.png' alt='' />
								</span>
								{baker.hollywoodHandshake}
							</dd>
						</div>
					</dl>
				</div>
			</li>
		))
	}
</ul>

<svg class='svg'>
	<clipPath id='image-clip' clipPathUnits='objectBoundingBox'
		><path
			d='M0,0.5 C0,0.29,0.29,0,0.5,0 S1,0.29,1,0.5 S0.71,1,0.5,1 S0,0.71,0,0.5'
		></path>
	</clipPath>
</svg>

<style lang='scss'>
	.bakers {
		list-style: none;
		margin: 0;
		padding: 0 0 3rem;
	}

	.bakers-item {
		border-radius: var(--base-radius);
		padding: 1rem;

		+ .bakers-item {
			padding-top: 4.5rem;
		}
	}

	.bakers-item__image {
		clip-path: url(#image-clip);
		object-fit: cover;
	}

	.bakers-item__content {
		h4 {
			color: var(--color-blue);
			font-size: 3rem;
			line-height: 1.1;
			margin: 0;
			position: relative;

			&:after {
				background: var(--color-accent);
				bottom: 0.25em;
				content: '';
				height: 0.4em;
				left: 0;
				position: absolute;
				right: 0;
				top: auto;
				transform: skew(-8deg);
				z-index: -1;
				bottom: 0.1em;
				width: clamp(30px, 20vw, 150px);
			}
		}

		h5 {
			font-size: 1.5em;
			margin: 0;
		}

		p {
			font-weight: 600;
			margin-top: 1.5rem;
			max-width: 45ch;
		}
	}

	.bakers-item__stats {
		display: flex;
		margin-top: 1.25em;

		> * + * {
			margin-left: 2rem;
		}

		dd {
			align-items: center;
			display: flex;

			span {
				display: inline-flex;
				font-size: 21px;
				margin-right: 0.5rem;
			}
		}

		img {
			display: inline-block;
			width: 22px;

			&:hover {
				animation: shake 0.82s cubic-bezier(0.36, 0.07, 0.19, 0.97) both;
			}
		}

		svg {
			fill: var(--color-yellow);
			height: 30px;
			width: 30px;
		}
	}

	.image-wrap {
		position: relative;
		svg {
			display: none;
		}
	}

	.svg {
		height: 0;
		position: absolute;
		width: 0;
	}

	@media (min-width: 768px) {
		.bakers {
			> :nth-child(2n) {
				.image-wrap {
					order: 2;
				}

				.bakers-item__content {
					margin-left: 0;
					margin-right: 2rem;
					order: 1;
				}
			}
		}
		.bakers-item {
			align-items: center;
			display: flex;
			justify-content: space-between;

			> * + * {
				margin-left: 2rem;
			}

			img {
				margin-inline: auto;
				max-width: 385px;
			}
		}
	}

	@media (min-width: 1280px) {
		.image-wrap {
			svg {
				border-radius: 50%;
				bottom: -6rem;
				display: block;
				position: absolute;
				right: -6rem;
				transform: rotate(69deg);
				width: 550px;
				z-index: -1;
			}
		}
	}

	@keyframes shake {
		10%,
		90% {
			transform: translate3d(-1px, 0, 0);
		}

		20%,
		80% {
			transform: translate3d(2px, 0, 0);
		}

		30%,
		50%,
		70% {
			transform: translate3d(-4px, 0, 0);
		}

		40%,
		60% {
			transform: translate3d(4px, 0, 0);
		}
	}
</style>
